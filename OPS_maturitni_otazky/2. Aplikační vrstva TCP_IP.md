- v TCP / IP jde pouze o jednu vrstvu 
- v OSI / ISO jde o pátou, šestou a sedmou vrstvu
- obsahuje protokoly pro aplikace
- protokoly zajišťují výměnu dat po síti
	- RFC - Request for Comments (technické specifikace, protokoly, internetové standardy)
		- publikování online a veřejně přístupné
- pro rozlišování protokolů se používají porty (čísla portů)
	- některé porty jsou rezervovány pouze pro dané protokoly

### Peer-to-Peer (P2P)

- klienti spolu komunikují přímo
- všechny uzly (nodes = clients) jsou si rovnocenné
- jeden klient slouží jako "server" pro dalšího klienta (a obráceně)
	- klient je zároveň server (avšak ne ve stejnou chvíli)
- pro co nejrychlejší fungování je nutné mít velký zástup klientů => decentralizace
- oproti client-server je u P2P mnohem menší riziko přetížění (méně náchylná ná výpadky a  chybovost)
	- u client-server zařízení komunikují pouze se server (ne mezi sebou)
- **kryptoměny, torrenty**

- **APLIKACE, MODELY POROVNÁNÍ S client-server**

### Web Server protokoly

- protokol = standart (doporučení) pro vzájemnou komunikaci dvou zařízení
- skupina doporuční pro výměnu dat mezi klientem a serverem (na Internetu) 

- **PROTOKOLY, APLIKACE, ZABEZPEČENÍ**

### HTTP

- slouží pro výměnu dat mezi klientem a serverem
- **port 80**
- **nešifrovaný**
- počítač, který odpovídá za vyřizování HTTP požadavků
	- je připojen do sítě
- server vždy vrací odpověď
	- většinou obsahuje HTML dokument / text / obrázek
	- vždy obsahuje hlavičku se stavovým HTTP kódem
		- kód nese informaci o stavu požadavku (chyba, úspěšné provedení... )
- **HTTPS - šifrovaní dat**
	- **port 443**

#### Mail server

- přenáší elektronickou poštu z jednoho zařízení na druhé
- **odesílání emailů = protokol SMTP**
	- Simple Mail Transfer Protocol
	- **port 25** (pro komunikaci mezi mail servery)
	- **port 587** (pro odeslání emailu klientem na server)
	- slouží pouze k odeslání emailů
		1. client naváže TCP spojení se SMTP serverem
		2. pošle email (server je v always-on-listening módu)
			-  MTA (Message Tranfer Agent) zkontroluje se zda se jedná o end-end cestu (pošle se přímo)
			- pokud ne => emailová adresa najde příjemcovu adresu za pomoci DNS
- **získání emailů**
	- **protokol POP3**
		- Post Office Protokol
		- **port 110** (šifrovaně přes SSL - **port 995**)
		- nevyžaduje stálé připojení
			- vhodné pro nestálé připojení  => klient najednou stáhne všechny nové zpráv => může si je pak přečíst offline
		- emaily se po přenesení ze serveru smažou (server je "zapomene") => nově je lokálně uložen na koncovém zařízení
	- **protokol IMAP**
		- Internet Message Access Protocol
		- **port 143** (přenos přes SSL - **port 993**)
		- vyžaduje stálé připojení
			- komunikace probíhá real-time
			- pokud není splněno, tak emailový klient není schopen komunikovat se serverem a přijímat zprávy
		- stahují se pouze nezbytné informace
		- umožňuje uživatelům správu jejich emailových zpráv skrze několik zařízení (současné připojení více klientů)
		- více funkcí než POP

#### FTP

- File Transfare Protocol
- **porty 20 a 21**
- transport souborů mezi zařízeními
- využívá se protokol TCP
- uživatelé se ověřují pomocí přihlašovacího protokolu, nebo jméno-heslo
- jeden z nejstarších protokolů
- client-server
- zabezpečené verze FTP
	- FTPS - FTP přes SSH 
	- SFTP - FTP přes SSL 

#### TFTP

- Trivial File Transfer Protocol
- **port 69**
- "osekaná verze FTP" - méně příkazů, oprav chyb a možností...
- **není šifrovaný a neobsahuje možnost autentifikace**
- založen na protokolu UDP => pro rychlý přenos malého objemu dat (**firmware updaty, boot ze sítě, správa konfigurace**)
- zahájení komunikace
	1. TFTP client zašle request na server (název souboru a mode of transfer)
	2. server zašle soubor, nebo error

#### NFS

- Network File System
- používá se v Linuxových systémech (tváří se více jako souborový systém)
- **port 111 a 2049**
- protokol pro výměnu souborů a složek (s využitím sítě)
- používá RPC (Remote Procedure Calls) pro komunikaci mezi serverem a klientem
- UDP, nebo TCP
- narozídl od FTP je NFS automatický protokol (jednou navázán, tak se soubory a složky tváří, že jsou uloženy lokálně) 
	- programy mohou do souborů zapisovat, číst a upravovat jednotlivé části (soubor se nemusí celý stáhnout jako tomu je u FTP)
- přílklady NFSv4....

### SMB

- Server Message Block
- **port 139 a 445**
- slouží ke sdílenému přístupu k souborům / zařízením (tiskárrny, seriové porty...)
- Windowskácká verze NFS
- princip client-server
	- klient posílá požadavek se jménem a heslem

### Telnet

- Telecomunation Network
- **port 23**
- připojení ke vzdálenému počítači pomocí textového UI
- **nešifrovaná komunikace**
- využívá protokol TCP
- full-duplexní spojení (posílá 8bit znaky oběma směry)

### SSH

- Secure Shell
- **port 22**
- zabezpečený komunikační protokol
- (vylepšená) náhrada za Telnet
- **šifrovaná komunikace**
- umožňuje přenos dat, tunelování

### DHCP

- Dynamic Host Configuration Protocol
- **port 67 - listen, port 68 - send**
- zjednodušení správy sítě
- přiřazuje vhodné IP adresy koncovým zařízením
- adresy se nemusí přiřazovat ručně, nebo APIPou
- **DHCP Relay** (agent)
	- prostředník, který forwarduje DHCP pakety mezi clientem a serverem (nejsou na stejné subdoméně)
- **DHCP Discover** - broadcast od DHCP clienta (chce zjistit kde je DHCP server)
- **DHCP Offer** - odpověď DHCP serveru (nese configuraci)
- **DHCP Request** - žádost clienta o přiřazení IP adresy 
- **DHCP Ack** - odpoveď serveru, že přijal Request => zašle clientovy požadované konfigurační parametry, včetně IP adresy
- problém s více servery (Discore je broadcast => teoreticky by odpověděly všichni)
- **obsah zprávy** - IP adresa (+ maska),Default Gateway, DNS server...

- **KOMUNIAKCE, OBSAH ZPRÁVY, DHCP RELAY**

###  NAT

- Network Adress Translation
- záchrana pro IPv4 (problém, kdy došli volné adresy)
	- dovoluje zařízením v pritávní síti komunikovat s vnějším internetem
	- překládají privátní IPv4 adresu na veřejnou (použití portů)
- funguje i jako bezpečnostní prvek => komunikaci lze navázat pouze z vnitřku sítě
	- skrytá adresa
- zjednodušuje velké sítě
- **Inside, Outside, Local, Global**
- 4 základní typy NATek
	- **statická** (balanční)
		- mění se pouze IP adresa
		- ONE to ONE NAT (nevýhoda, neboť pro každou privátní adresu potřebujeme jednu veřejnou)
	- **dynamická**
		- přiřezení volné lokální a veřejné adresy se děje automaticky
		- pool veřejných adres a pool soukromých adres
	- **overloading** 
		- ONE to NUMEROUS
		- PAT - Port adress translation = jedna veřejná adresa zastupuje celou privátní síť
- **port forwarding**
	- dovoluje zařízením v privátní síti komunikovat s okolním světem
	- forwarduje přenos z Internetu (na určitém portu) na port zařízení v privátní síti
	- určité porty se mohou povolit (někdy i zakázat)

### DNS

- Domain Name System
- **port 53**
- hiearchický systém názvů pro překlad lidsky čitelných adres (www.google.com) na IP adresy
	- síť několika DNS serverů, které spolupracují na získání určité domény (na dotazu)
	- když dostane DNS server žádost o poskytnutí IP adresy pro určitou doménu => podívá se do své databáze (cache) => když ji najde, pošle ji => pokud ji nenajde => přesune žádost v hiearchii o level výše (hlavní jsou kořenové servery = nachází se na nejvyšším levelu)
- **Autoritativní odpověď** = ta, kterou jsme získali bez jakéhokoliv prostředníka 
- kořenový server = první DNS server, na který je směřován DNS lookup (žádost IP adresy) => nejspodnější servery

#### **FQDN** 
- Fully Qualified Domain Name
- "kompetní" doméno jméno, které specifikuje jedinečnou lokaci (adresu) serveru v síti (Internetu)
- hostname - ....
- domain name - název domény
- **www.google.com**
	- **www** = hostname
	- **google** = doménové jméno
	- **.com** = top-level doména

#### TLD - Top Level Domain

- poslední část FQDN - .com, .cz, ...
- TDL nameserver obsahuje informace o všech doménových jménech, které sdílí comon domain extension (.com, .net, ....)
- Typy
	- **Generické** - .org, .net ...
	- **sponzorované** - .gov, .travel, .museum...
	- **pro jendotlivé státy a země**
	- **pro infrastrukturu**
	- **testovací**

#### SLD - Second Level Domain (Domain Name

- většinou paří k dané organizaci, či subjektu (musí se registrovat)

![[Pasted image 20230227130817.png]]
![[Pasted image 20230227131742.png]]
![[Pasted image 20230227131840.png]]

### NTP

- Network Time Protocol
- protokol zajišťující synchronizaci vnitřních hodin počítačů v paketové síti s proměnným zpožděním
- UDP - **port 23**

 