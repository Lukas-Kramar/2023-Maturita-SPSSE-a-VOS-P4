![[Pasted image 20230228141010.png]]

- Open System Interconnection/International Standarts Organization
- dělí vzájemnou komunikaci mezi počítačí na 7 vrstev
- každá vrstva vykoná příslušnou činnost a předá data další vrstvě
	- vrstva neví, jak data zpracovala předchozí vrstva (nepotřebuje to vědět) => jsou na sobě nezávislé
- přenos dat mezi vrstvami je pomocí packetů
- pokud daná vrstva není potřebná, je implementována jako prázdná
- některé vrstvy se dělí na podvrstvy
- začátek je na aplikační vrstvě

### 1) Fyzická vrstva (Physical)

- spravuje fyzické spojení
- zodpovědná za přenos nestrukturovaných dat
- nekontroluje význam bitů, pouze je přenáší (signálem)
- chyby hlásí spojové (Data Link) vrstvě
- **repeater, hub, kabel**

### 2) Spojová vrstva (Data Link)

- formátuje data do rámců (framů)
	- ty poté posílá dál
- zajišťuje bezchybný přenos dat mezi stanicemi
- dělí se na LLC (horní podvrstva) a MAC (spodní podvrstva)
- **bridge, switch**

### 3) Síťová vrstva (Network)

- definuje protokoly pro směrování dat a jejich adresaci
- volí, kterou cestou by packety měly putovat
- zajišťuje celkový přenos dat v síti
- nese informace o problémech při doručování dat
- **router, L3 swtich**

### 4) Transportní vrstva (Transport)

- rozhodne o způsobu přenosu dat (paralelně / jednou cestou)
- provádí multiplexing, rozdělování dat, kontrolu chyb
- dostane data od Session vrstvy, rozdělí ji na menší jednotky a předá Network layeru
- zajišťuje přenos dat mezi vrstvami
- porty, tcp/udp
- **gateway, firewall, TCP/UDP**

### 5) Relační vrstva (Session)

- spravuje komunikaci mezi dvěma aplikacemi
- stará se o přihlašování, zabezpečení
- zabezpečuje výměnu dat mezi dvěma aplikacemi
- data synchronizuje, aby nedošlo ke ztrátě dat
- **NetBIOS, PC**

### 6) Prezenční vrstva (Presentation)

- "vyhýbáme se jí" (teoreticky pro nás není důležitá)
- konvertuje data do podoby, kterou používají aplikace
- zabývá se pouze strukturou dat, nikoliv jejich významem
- kóduje, formátuje, komprimuje, šifruje, hashuje...
- **ASCII kódování, PC**

### 7) Aplikační vrstva (Application)

- nejvrchnější vrstva
- "vyhýbáme se jí" (teoreticky pro nás není důležitá)
- poskytuje aplikaci přístup ke komunikačnímu systému
- identifikace komunikace, přenos zpráv, synchronizace aplikací
- vrstvu přepdstavují kontrétní aplikace
- **FTP, SSH, POP3**

---
### PDU

- Protocol Data Unit
- při postupném procházení jednotlivými vrstvami se sem přidávají různé informace
- každá vrstva přidá svou specifickou informaci
- v každé vrstvě má jiný název
	1. v Physical - **bity**
	2. v Data Link - **rámec** (frame)
	3. v Network - **packet**
	4. v Transport - **TCP segment / UDP segment**
	5. v Session - **data**
	6. v Presentation - **data**
	7. v Aplication - **data**

#### Zapouzdření

- vložení PDU z vyšší vrstvy do těla dat
- každá vrstva si z PDU vezme pouze informace, které jí náleží
- redundance dat, řízení toku

### OSI / ISO vs TCP / IP

- v TCP / IP jsou Physical layer a Data Link layer spojeny
- v TCP / IP jsou Application, Pressentation a Session layery spojeny
- TCP / IP je rychlejší, ale méně spolehlivé (neřeší, zda data dorazili do cíle)
- TCP / IP bere, že spolehlivost musí zařídit koncoví účastníci komunikae
	- **TCP / IP - jednodušší, méně spolehlivé**
	- **OSI / ISO - složitější, detailnější, spolehlivejší**

---

### Aktivní prvky v síti

#### **Hub (rozbočovač)**

- **fyzická vrstva**
- všechna data, která přijdou na nějaký port zkopíruje a pošle na ostatní porty
- vysílá broadcast
- velmi jednoduchý
- přetěžuje síť (prvky musí filtrovat data, které jsou pro ně určené)

#### **Repeater (opakovač)**

- **fyzická vrstva**
- příjmá zkreslený / poškozený signál, opraví ho a posílá dál
- neumí data nijak filtrovat
- posílá data broadcastem dál

#### **Bridge (most)**

- **spojová vrstva**
- "switch, který má pouze 2 porty"
- spojuje 2 části sítě
- sestaví si tabulku s porty MAC adres z obou části sítě
- když přijde packet, podle cílové adresy ho buď pošle na druhou stranu, nebo vyřadí
	- snižuje provoz v síti, pokud se posílají packety přes broadcast (všem)
- když není adresa v tabulce => pošle broadcastem

#### Accespoint (přístupový bod)

- **spojová vrstva**
- poskytuje klientům vstup do síti (rozšiřuje Wi-Fi plochu routeru)
- může
	- být v kombinaci s domácím routerem
	- být členem MESH  = sít, kde je každý uzel spojen s více uzly
	- Používat PoE

#### Switch (přepínač)

- **spojová vrstva**
- "chytřejší hub"
- analyzuje packety a posílá je na port (dle MAC adresy), kam přísluší
- pokud switch neví, pošle broadcast na všechny porty
	- poté dostane odpověď, který port byl správný
	- postupně se učí, které porty vedou na jaké MAC adresy => informace ukládá do CAM tabulky

#### Router (směrovač)

- **síťová vrstva**
- spojuje více sítí dohromady
- používá routovací tabulku a hledá nejlepší cestu packetu
	- rozbalí hlavičku packetu
	- přečte cílovou adresu
	- koukne do routovací tabulky
	- pošle to na port, nebo ho zahodí
- v lokální síti je gateway router
- průchozím packetům odebírá 1TTL

#### L3 switch 

- může fungovat i jako router
- 

#### Firewall

- monitoruje příchozí a odchozí komunikaci
- Ochrana sítě
- aktivní 
- pasivní
- IPS (nemam ve spravě já) vs Firewall (mam ve spravě já)
- kontroluje komunikaci z veční i zevnitř

### Nástroje pro zachycování dat v síti

### Testování a oprava problémů v síti


### Protokol
# Rozhraní
# Popis a funkce jednotlivých vrstev
## Porovnání s TCP_IP
# Zapouzdřování
# Průchod dat přes síťové prvky
# Kategorie přepínačů pro jednotlivé vrstvy
# Standartní chování
