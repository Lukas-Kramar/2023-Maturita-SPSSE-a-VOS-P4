----
### Konceptuální návrh databáze

- součást návrhu E-R (entity relation) databáze 
- cílem je vytvořit **konceptuální model databáze**
	- první fáze při návrhu databáze (nejvíce abstraktní = zjednodušená)
	- říká jak budou data **uložena** (kolik enetit zde bude a jak budou pojmenovány)
	- říká jak budou data **propojena** (druh a povinnost vazby)
	- **NEOBSAHUJE**: datové typy, popis atributů (včetně těch klíčových) a další implementační detaily 
- umožňuje pochopit a popsat požadavky na databázi => vznikne struktura, pro efektivní ukládání a používání dat
- Dělí se na 3 úrovně
	- Konceptuální
	- Logickou
	- Fyzickou

### Základní prvky koncepttuálního návrhu

- **Entita**
	- je věc z "reálného" světa (lze ji pojmenovat jako samostatnou jednotku)
	- může být nezávisla, či závisla na dalších entitách
	- např. třída žák, učitel, ředitel...
- **Entitní typ**
	- odkazuje na entity, které budou v databázi/tabulce uchovány
	- př. Databáze školy má tabulku Studenti (odkazuje na kategorii entit - Student)
- **Atributy**
	- charakterizují jednotlivé entitní typy
	- např. žák - jméno, příjmení, datum narození...
	- Složené, vícehodnotové a zděděné
- **Vztahy (relace)**
	- způsob propojení mezi entitami
	- 1:1, 1:M, M:M
	- např. třída má více žáků => vztah mezi třídou a studenty

### Pojmy

- **Klíč** (super klíč)
	- unikátní hodnota, která jednoznačně identifikuje záznam (řádek) v tabulce 
	- nesmí být null
	- může být složen z různého počtu kandidátních klíčů
- **Kandidátní klíč** 
	- způsob identifikace entity
- **Primární klíč**
	- vybraný kandidátní klíč
- **Silná entita**
	- lze popsat jen za pomoci jejích atributů
	- může existovat i bez vazby na slabou entitu
- **Slabá entita**
	- poviná vazba na jinou entitu => část (nebo celý) indentifikátoru je složena z atributů cizí entity
	- povinná vazba může vést na slabou entitu
	- Klíč nelze vytvořit bez atributů jiné entity (cizích klíčů)
- **Kardenalita**
	- vyjadřuje kolik entit daného typu se na relaci podílí/může podílet
	- npř. učitel vyučuje více studentů (1:N)
- **Parcialita**
	- vyjadřuje povinnou účast v relaci
	- 0 - nemandatorní relace (nemusí být)
	- 1 - mandatorní realce (musí být)
	- npř. učiel NEMUSÍ vyučovat žádné studenty, ale student MUSÍ být vyučován studentem

### Relace závislostí mezi entitami

- **Agregace**
	- část může existovat bez celku
	- celek není unikátní pro všechy části
	- npř. manželství (člověk jich může během života vystřídat několik)
	![[Pasted image 20230128102314.png]]

- **Kompozice**
	- část nemůže existovat bez celku => jen mezi slabou a silnou entitou
	- npř. náku a položka v seznamu (smaže se nákup => smažou se jeho položky)
	![[Pasted image 20230128102345.png]]

- **Vazba 1:1**
	- v relalaci odpovídá jeden záznam první tabulky maximálně jednomu záznamu druhé tabulce (a naopak)
	- npř. stát a jeho hl. město
	![[Pasted image 20230128102354.png]]

-**Vazba 1:N**
	- na jeden záznam první tabulky se může vázat více záznamů druhé tabulky
	- k vazbě je použit cizí klíč
	- npř. třída a student
	![[Pasted image 20230128102516.png]]

- **Vazba M:N**
	- nelze realizovat přímo => vytvořit asociativní tabulku
	- npř. knihy a autoři (kniha může mít více autorů)
	![[Pasted image 20230128102654.png]]

